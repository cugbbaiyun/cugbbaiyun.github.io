<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>DQN | cugbbaiyun</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#5b6565">
    
    
    <meta name="keywords" content="">
    <meta name="description" content="DQN DQN 版本问题 DQN 是由DeepMind的一帮大神在2013年发表的，并且又重新在2015年发表在了nature上，并且在nature版的进行了一些改进。2013年版的，会更侧重于DQN本身的一个阐述，而2015年版的则更多的侧重于实验，分析等。但是2015年版算法的伪代码是要更加易读的。 DQN 算法原理 首先，说起DQN，就不得不从Q-learning开始，因为DQN实际上相当于">
<meta property="og:type" content="article">
<meta property="og:title" content="DQN">
<meta property="og:url" content="https://cugbbaiyun.github.io/2020/09/19/DQN/index.html">
<meta property="og:site_name" content="cugbbaiyun">
<meta property="og:description" content="DQN DQN 版本问题 DQN 是由DeepMind的一帮大神在2013年发表的，并且又重新在2015年发表在了nature上，并且在nature版的进行了一些改进。2013年版的，会更侧重于DQN本身的一个阐述，而2015年版的则更多的侧重于实验，分析等。但是2015年版算法的伪代码是要更加易读的。 DQN 算法原理 首先，说起DQN，就不得不从Q-learning开始，因为DQN实际上相当于">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-09-19T11:13:34.389Z">
<meta property="article:modified_time" content="2020-09-19T11:13:34.389Z">
<meta property="article:author" content="cugbbaiyun">
<meta name="twitter:card" content="summary">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatest.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">cugbbaiyun</h5>
          <a href="mailto:baiyun@cugb.edu.cn" title="baiyun@cugb.edu.cn" class="mail">baiyun@cugb.edu.cn</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                Home
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/cugbbaiyun" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/custom"  >
                <i class="icon icon-lg icon-link"></i>
                Friendly link
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">DQN</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">DQN</h1>
        <h5 class="subtitle">
            
                <time datetime="2020-09-19T11:13:34.389Z" itemprop="datePublished" class="page-time">
  2020-09-19
</time>


            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#dqn"><span class="post-toc-number">1.</span> <span class="post-toc-text">DQN</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#dqn-版本问题"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">DQN 版本问题</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#dqn-算法原理"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">DQN 算法原理</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#dqn双网络结构"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">DQN双网络结构</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#dqn-贡献所在"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">DQN 贡献所在</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#dqn-代码"><span class="post-toc-number">1.5.</span> <span class="post-toc-text">DQN 代码</span></a></li></ol></li></ol>
        </nav>
    </aside>


<article id="post-DQN"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">DQN</h1>
        <div class="post-meta">
            <time class="post-time" title="2020-09-19 19:13:34" datetime="2020-09-19T11:13:34.389Z"  itemprop="datePublished">2020-09-19</time>

            


            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h2 id="dqn">DQN</h2>
<h3 id="dqn-版本问题">DQN 版本问题</h3>
<p>DQN 是由DeepMind的一帮大神在2013年发表的，并且又重新在2015年发表在了nature上，并且在nature版的进行了一些改进。2013年版的，会更侧重于DQN本身的一个阐述，而2015年版的则更多的侧重于实验，分析等。但是2015年版算法的伪代码是要更加易读的。</p>
<h3 id="dqn-算法原理">DQN 算法原理</h3>
<p>首先，说起DQN，就不得不从Q-learning开始，因为DQN实际上相当于是在Q-learning上加了Network，在Q-learning中，其动作状态Q值是通过经过TD方法采样过的bellman方程进行更新的：</p>
<p>$ Q(s, a) = Q(s, a) + (r + max Q(s', a') - Q(s,a))$</p>
<p>但是在我毕设过程中，通过使用Q-learning，我觉得其有以下几个缺点：</p>
<ul>
<li>状态难以进行表示
<ul>
<li>很难对状态进行一个合适的哈希，从而能够被Q-learning进行操作，但如果这个表示不合理，Q-learning又很难达到收敛。</li>
</ul></li>
<li>不够鲁棒
<ul>
<li>就拿一个很简单的迷宫例子来讲，Q-learning往往只能寻找到固定的一条线路，如果状态发生改变，Q-learning就需要重新进行训练。</li>
</ul></li>
</ul>
<p>因此，在Q-learning之上，就加入了NN，这样就能有效的解决上面两个问题，</p>
<p>在DQN中，直接将<span class="math inline">\(\alpha\)</span> 后的乘项作为loss计算的根基，用均方误差作为loss，也就是：</p>
<p><span class="math inline">\(loss = (r + \gamma*max Q(s&#39;, a&#39;) - Q(s,a))^2\)</span></p>
<p>继续将这个loss进行简化：</p>
<p>因为我们可以将$ r + maxQ(s', a') $ 作为当前状态的价值函数，也就是<span class="math inline">\(V(s)\)</span>实际上相当于我们到达<span class="math inline">\(s\)</span>获得的奖励以及折扣因子乘以下一步能到达状态的一个最大价值，这样，<span class="math inline">\(loss\)</span>的计算实际上就是：</p>
<p><span class="math inline">\(loss = (V(S) - Q(s, a))^2\)</span></p>
<p>但是我们无法将真正的<span class="math inline">\(V(s)\)</span>进行表示，因此才使用了<span class="math inline">\(maxQ(s&#39;,a&#39;)\)</span>来逼近<span class="math inline">\(V(s)\)</span>。</p>
<h3 id="dqn双网络结构">DQN双网络结构</h3>
<p>这个可是大坑啊大坑，我在第一次看论文时，并没有注意到两个Q网络<span class="math inline">\(\theta\)</span>的不同。DQN里实际上是使用了两个网络，这两个网络的结构完全一样，区别只是在于更新的时机有所不同。</p>
<p>我们从上面的<span class="math inline">\(loss\)</span>里可以看到，DQN里用到了两个Q，一个是对当前state下执行a动作价值的<span class="math inline">\(Q(s,a)\)</span>，另一个是用来评估当前状态好坏的<span class="math inline">\(r+\gamma*maxQ(s&#39;,a&#39;)\)</span>，这里我们使用不同的网络来进行计算，将<span class="math inline">\(Q(s,a|\theta)\)</span>作为网络1，叫做评估网络（<span class="math inline">\(eval\ network\)</span>)，而将<span class="math inline">\(Q(s&#39;,a&#39;|\theta^-)\)</span> 作为网络2，叫做目标网络(<span class="math inline">\(target\ network\)</span>)。评估网络的参数是在每一次计算loss之后进行更新，而目标网络则会在固定步数之后与评估网络的参数进行同步，二者结构相同，这样做的好处是可以增加稳定性。</p>
<h3 id="dqn-贡献所在">DQN 贡献所在</h3>
<ul>
<li>在DQN中提出了用神经网络来对全局state作出一个衡量</li>
<li>引入Replay Buffer</li>
<li>DQN的双网络结构</li>
</ul>
<h3 id="dqn-代码">DQN 代码</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line">import gym</span><br><span class="line">from collections import deque</span><br><span class="line">import math</span><br><span class="line">import torch</span><br><span class="line">import numpy as np</span><br><span class="line">from IPython.display import clear_output</span><br><span class="line">import gym</span><br><span class="line"></span><br><span class="line">env_id &#x3D; &quot;CartPole-v0&quot;</span><br><span class="line">env &#x3D; gym.make(env_id)</span><br><span class="line">episilon_start &#x3D; 0.9</span><br><span class="line">episilon_final &#x3D; 0.01</span><br><span class="line">episilon_maxg &#x3D; 10000</span><br><span class="line">class DQN(torch.nn.Module):</span><br><span class="line"></span><br><span class="line">    def __init__(self, num_inputs, num_outputs):</span><br><span class="line">        super(DQN, self).__init__()</span><br><span class="line">        self.eval_net &#x3D; torch.nn.Sequential()</span><br><span class="line">        self.eval_net.add_module(&#39;linear1&#39;, torch.nn.Linear(num_inputs, 128, bias&#x3D;True))</span><br><span class="line">        self.eval_net.add_module(&#39;ReLU1&#39;, torch.nn.ReLU())</span><br><span class="line">        self.eval_net.add_module(&#39;linear2&#39;, torch.nn.Linear(128, 128, bias&#x3D;True))</span><br><span class="line">        self.eval_net.add_module(&#39;ReLU1&#39;, torch.nn.ReLU())</span><br><span class="line">        self.eval_net.add_module(&#39;linear2&#39;, torch.nn.Linear(128, num_outputs, bias&#x3D;True))</span><br><span class="line"></span><br><span class="line">    def getbestaction(self, state):</span><br><span class="line">        action &#x3D; self.forward(torch.FloatTensor(state)).max(-1)[1]</span><br><span class="line">        return action.item()</span><br><span class="line"></span><br><span class="line">    def forward(self, X):</span><br><span class="line">        return self.eval_net(X)</span><br><span class="line"></span><br><span class="line">    def act(self, state, epi):</span><br><span class="line">        if random.random() &gt; epi:</span><br><span class="line">            t &#x3D; self.forward(torch.tensor(np.float32(state)))</span><br><span class="line">            return t.max(0)[1].item()</span><br><span class="line">        else:</span><br><span class="line">            return random.randrange(env.action_space.n)</span><br><span class="line"></span><br><span class="line">class ReplayBuffer():</span><br><span class="line">    def __init__(self, maxlen):</span><br><span class="line">        self.buffer &#x3D; deque(maxlen&#x3D;maxlen)</span><br><span class="line"></span><br><span class="line">    def push(self, state, next_state, reward, action, done):</span><br><span class="line">        state &#x3D; np.expand_dims(state, 0)</span><br><span class="line">        next_state &#x3D; np.expand_dims(next_state, 0)</span><br><span class="line"></span><br><span class="line">        self.buffer.append((state, next_state, reward, action, done))</span><br><span class="line"></span><br><span class="line">    def sample(self, batch_size):</span><br><span class="line">        front &#x3D; random.sample(self.buffer, batch_size)</span><br><span class="line">        state, next_state, reward, action, done &#x3D; zip(*front)</span><br><span class="line">        return np.concatenate(state), np.concatenate(next_state), reward, action, done</span><br><span class="line"></span><br><span class="line">    def __len__(self):</span><br><span class="line">        return len(self.buffer)</span><br><span class="line"></span><br><span class="line">replay_buffer &#x3D; ReplayBuffer(10000)</span><br><span class="line"></span><br><span class="line">model &#x3D; DQN(env.observation_space.shape[0], env.action_space.n)</span><br><span class="line">optim &#x3D; torch.optim.Adam(model.parameters(), lr&#x3D;0.001)</span><br><span class="line">target_net &#x3D; DQN(env.observation_space.shape[0], env.action_space.n)</span><br><span class="line">def update_target_net(target_net, model):</span><br><span class="line">    target_net.load_state_dict(model.state_dict())</span><br><span class="line"></span><br><span class="line">def calEpisilon(gen):</span><br><span class="line">    return episilon_final + (episilon_start - episilon_final) * math.exp(-1 * gen &#x2F; episilon_maxg)</span><br><span class="line"></span><br><span class="line">gamma &#x3D; 0.99</span><br><span class="line">def calTDLoss(batch_size):</span><br><span class="line">    state, next_state, reward, action, done &#x3D; replay_buffer.sample(batch_size)</span><br><span class="line">    state &#x3D; torch.FloatTensor(np.float32(state))</span><br><span class="line">    next_state &#x3D; torch.FloatTensor(np.float32(next_state))</span><br><span class="line">    </span><br><span class="line">    y_j &#x3D; torch.FloatTensor(reward) + gamma * target_net(next_state).max(1)[0] * (1-torch.FloatTensor(done))</span><br><span class="line">    qvalue &#x3D; model.eval_net(state).gather(1, torch.LongTensor(action).unsqueeze(1)).squeeze(1)</span><br><span class="line"></span><br><span class="line">    l &#x3D; (qvalue - y_j.detach()).pow(2).mean()</span><br><span class="line"></span><br><span class="line">    optim.zero_grad()</span><br><span class="line">    l.backward()</span><br><span class="line">    optim.step()</span><br><span class="line">    return l</span><br><span class="line"></span><br><span class="line">def plot(frame_idx, rewards, losses):</span><br><span class="line">    clear_output(True)</span><br><span class="line">    plt.figure(figsize&#x3D;(20,5))</span><br><span class="line">    plt.subplot(131)</span><br><span class="line">    plt.title(&#39;frame %s. reward: %s&#39; % (frame_idx, np.mean(rewards[-10:])))</span><br><span class="line">    plt.plot(rewards)</span><br><span class="line">    plt.subplot(132)</span><br><span class="line">    plt.title(&#39;loss&#39;)</span><br><span class="line">    plt.plot(losses)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line">num_frames &#x3D; 50000</span><br><span class="line">batch_size &#x3D; 32</span><br><span class="line"></span><br><span class="line">losses &#x3D; []</span><br><span class="line">all_rewards &#x3D; []</span><br><span class="line">episode_reward &#x3D; 0</span><br><span class="line"></span><br><span class="line">state &#x3D; env.reset()</span><br><span class="line">for frame_idx in range(1, num_frames + 1):</span><br><span class="line">    epsilon &#x3D; calEpisilon(frame_idx)</span><br><span class="line">    action &#x3D; model.act(state, epsilon)</span><br><span class="line">    # env.render()</span><br><span class="line">    next_state, reward, done, _ &#x3D; env.step(action)</span><br><span class="line">    replay_buffer.push(state, next_state,reward, action, done)</span><br><span class="line"></span><br><span class="line">    state &#x3D; next_state</span><br><span class="line">    episode_reward +&#x3D; reward</span><br><span class="line"></span><br><span class="line">    if done:</span><br><span class="line">        state &#x3D; env.reset()</span><br><span class="line">        all_rewards.append(episode_reward)</span><br><span class="line">        print(episode_reward)</span><br><span class="line">        episode_reward &#x3D; 0</span><br><span class="line"></span><br><span class="line">    if len(replay_buffer) &gt; batch_size:</span><br><span class="line">        loss &#x3D; calTDLoss(batch_size)</span><br><span class="line">        losses.append(loss.item())</span><br><span class="line"></span><br><span class="line">    if frame_idx % 200 &#x3D;&#x3D; 0:</span><br><span class="line">        update_target_net(target_net, model)</span><br><span class="line"></span><br><span class="line">    if frame_idx % 1000 &#x3D;&#x3D; 0:</span><br><span class="line">        plot(frame_idx, all_rewards, losses)</span><br><span class="line"></span><br><span class="line">state &#x3D; env.reset()</span><br><span class="line">done &#x3D; False</span><br><span class="line">while not done:</span><br><span class="line">    action &#x3D; model.getbestaction(state)</span><br><span class="line">    next_state, reward, done, _ &#x3D; env.step(action)</span><br><span class="line">    env.render()</span><br><span class="line">    state &#x3D; next_state</span><br></pre></td></tr></table></figure>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2020-09-19T11:13:34.389Z" itemprop="dateUpdated">2020-09-19 19:13:34</time>
</span><br>


        
        这里可以写作者留言，标签和 hexo 中所有变量及辅助函数等均可调用，示例：<a href="/2020/09/19/DQN/" target="_blank" rel="external">https://cugbbaiyun.github.io/2020/09/19/DQN/</a>
        
    </div>
    
    <footer>
        <a href="https://cugbbaiyun.github.io">
            <img src="/img/avatest.jpg" alt="cugbbaiyun">
            cugbbaiyun
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            

            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://cugbbaiyun.github.io/2020/09/19/DQN/&title=《DQN》 — cugbbaiyun&pic=https://cugbbaiyun.github.io/img/avatest.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://cugbbaiyun.github.io/2020/09/19/DQN/&title=《DQN》 — cugbbaiyun&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://cugbbaiyun.github.io/2020/09/19/DQN/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《DQN》 — cugbbaiyun&url=https://cugbbaiyun.github.io/2020/09/19/DQN/&via=https://cugbbaiyun.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://cugbbaiyun.github.io/2020/09/19/DQN/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between flex-row-reverse">
  

  
    <div class="waves-block waves-effect next">
      <a href="/2020/07/03/%E8%AE%BE%E7%BD%AEhexo%E4%B8%AD%E7%9A%84mathjax/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">设置hexo中的mathjax</h4>
      </a>
    </div>
  
</nav>



    




















</article>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
            <span>This blog is licensed under a <a rel="license noopener" href="https://creativecommons.org/licenses/by/4.0/" target="_blank">Creative Commons Attribution 4.0 International License</a>.</span>
        </p>
    </div>
    <div class="bottom">
        <p><span>cugbbaiyun &copy; 2020</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://cugbbaiyun.github.io/2020/09/19/DQN/&title=《DQN》 — cugbbaiyun&pic=https://cugbbaiyun.github.io/img/avatest.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://cugbbaiyun.github.io/2020/09/19/DQN/&title=《DQN》 — cugbbaiyun&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://cugbbaiyun.github.io/2020/09/19/DQN/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《DQN》 — cugbbaiyun&url=https://cugbbaiyun.github.io/2020/09/19/DQN/&via=https://cugbbaiyun.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://cugbbaiyun.github.io/2020/09/19/DQN/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=https://cugbbaiyun.github.io/2020/09/19/DQN/" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>



<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" async></script>




<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
